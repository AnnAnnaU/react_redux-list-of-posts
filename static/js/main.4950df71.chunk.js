(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){e.exports=n(33)},,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),s=n.n(c),u=n(1),o=(n(25),n(2)),i=n.n(o),l=n(5),m=n(3),f=n(12),p=n(13),d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},E=n(4),_=function(e){return{type:"LOAD_SUCCESS",posts:e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_SUCCESS":return t.posts;case"REMOVE_POST":return e.filter((function(e){return e.id!==t.id}));case"REMOVE_COMMENT":return e.map((function(e){return e.id===t.postId?Object(E.a)(Object(E.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.id}))}):e}));default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ERROR":return t.errorMessage;default:return e}},O=function(e){return{type:"FILTER_QUERY",filterQuery:e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_QUERY":return t.filterQuery;default:return e}},y=function(e){return fetch("https://jsonplaceholder.typicode.com"+e).then((function(e){return e.json()}))},g=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/users");case 2:return t=e.sent,n=t.map((function(e){return Object(E.a)({},e)})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(g());var N=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/users");case 2:return t=e.sent,e.next=5,y("/posts");case 5:return n=e.sent,e.next=8,y("/comments");case 8:return r=e.sent,a=n.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{user:t.find((function(t){return t.id===e.userId})),comments:r.filter((function(t){return t.postId===e.id}))})})),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_USER_ID":return t.userId;default:return e}},I=Object(m.combineReducers)({posts:b,isLoading:d,errorMessage:v,filterQuery:h,userId:j}),L=function(e){return e.posts},R=function(e){return e.isLoading},C=function(e){return e.errorMessage},w=function(e){return e.filterQuery},S=function(e){return e.userId},k=Object(m.createStore)(I,{posts:[],isLoading:!1,errorMessage:"",filterQuery:"",userId:""},Object(f.composeWithDevTools)(Object(m.applyMiddleware)(p.a))),M=function(){var e=Object(u.b)(),t=Object(u.c)(R);return a.a.createElement("button",{type:"button",onClick:function(){return e(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),e.abrupt("return",N().then((function(e){return t(_(e))})).catch((function(){return t({type:"LOAD_ERROR",errorMessage:"Error occurred when loading data"})})).finally((function(){return t({type:"FINISH_LOADING"})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},disabled:t},t?"Loading...":"Load")},A=(n(27),n(28),function(e){var t=e.name,n=e.email,r=e.address;return a.a.createElement("div",{className:"post__autor user"},a.a.createElement("div",{className:"user__info"},a.a.createElement("span",{className:"user__info-decor"},"Autor: "),t),a.a.createElement("div",{className:"user__info"},a.a.createElement("span",{className:"user__info-decor"},"Email: "),n),a.a.createElement("div",{className:"user__info"},a.a.createElement("span",{className:"user__info-decor"},"Address: "),r.city,","," ",r.street,","," ",r.suite))}),x=(n(29),n(30),function(e){var t=e.onClick,n=e.size;return a.a.createElement("button",{className:"remove-btn remove-btn--".concat(n),type:"button",onClick:t,"aria-label":"remove button"})}),D=function(e){var t=e.name,n=e.body,r=e.email,c=e.id,s=e.postId,o=Object(u.b)();return a.a.createElement("li",{className:"post__comment comment"},a.a.createElement("div",{className:"comment__header"},a.a.createElement("h3",{className:"comment__title"},t),a.a.createElement(x,{size:"small",onClick:function(){return o(function(e,t){return{type:"REMOVE_COMMENT",id:e,postId:t}}(c,s))}})),a.a.createElement("p",{className:"comment__text"},n),a.a.createElement("span",{className:"comment__email"},r))},T=function(e){var t=e.commentsList;return a.a.createElement("ol",null,t.map((function(e){return a.a.createElement(D,Object.assign({},e,{key:e.id}))})))},G=function(e){var t=e.title,n=e.body,r=e.user,c=e.comments,s=e.id,o=Object(u.b)();return a.a.createElement("li",{className:"post-list__post post"},a.a.createElement("div",{className:"post__header"},a.a.createElement("h2",{className:"post__title"},t),a.a.createElement(x,{size:"large",onClick:function(){return o(function(e){return{type:"REMOVE_POST",id:e}}(s))}})),a.a.createElement("p",{className:"post__text"},n),r&&a.a.createElement(A,Object.assign({},r,{key:r.id})),c&&a.a.createElement(T,{commentsList:c}))},Q=function(e){var t=e.posts;return a.a.createElement("ol",null,t.map((function(e){return a.a.createElement(G,Object.assign({},e,{key:e.id}))})))},F=(n(31),function(){var e=Object(u.b)(),t=Object(u.c)(w),n=Object(r.useCallback)(function(e,t){var n;return function(){n&&clearTimeout(n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];n=setTimeout.apply(void 0,[e,t].concat(a))}}((function(t){e(O(t))}),1e3),[t]);return a.a.createElement("div",{className:"post-list__filter"},a.a.createElement("input",{type:"textarea",className:"post-list__filter-input",onChange:function(e){n(e.target.value.trim())}}),a.a.createElement("button",{className:"post-list__reset",type:"button",onClick:function(){e(O(""))}},"Reset"))}),U=["All autors","Leanne Graham","Ervin Howell","Clementine Bauch","Patricia Lebsack","Chelsey Dietrich","Mrs. Dennis Schulist","Kurtis Weissnat","Nicholas Runolfsdottir V","Glenna Reichert","Leanne Graham"],H=(n(32),function(){var e=Object(u.b)();return a.a.createElement("label",{className:"user-label"},"Select autor: \xa0",a.a.createElement("select",{className:"user-selector",onChange:function(t){return e({type:"CHOOSE_USER_ID",userId:+t.target.value})}},U.map((function(e,t){return a.a.createElement("option",{key:t,value:t},e)}))))}),V=function(){var e=Object(u.c)(C),t=Object(u.c)(L),n=Object(u.c)(w),c=Object(u.c)(S),s=Object(r.useMemo)((function(){return function(e,t){return t.filter((function(t){return(t.title+t.body).toLowerCase().includes(e.toLowerCase())}))}(n,t)}),[n,t]),o=Object(r.useMemo)((function(){return function(e,t){return t.filter((function(t){return t.userId===e}))}(c,t)}),[c,t]);return a.a.createElement("section",null,a.a.createElement("h1",{className:"post-list__title"},"Posts:"),0===t.length?a.a.createElement(a.a.Fragment,null,a.a.createElement(M,null),e&&a.a.createElement("p",null,e)):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"post-list__filters"},a.a.createElement(F,null),a.a.createElement(H,null)),a.a.createElement(Q,{posts:n?s:c?o:t})))},P=function(){return a.a.createElement(u.a,{store:k},a.a.createElement(V,null))};s.a.render(a.a.createElement(P,null),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.4950df71.chunk.js.map